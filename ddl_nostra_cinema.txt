CREATE TABLE public.city (
	id int8 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1 NO CYCLE) NOT NULL,
	"name" varchar(255) NULL,
	secure_id varchar(255) NULL,
	CONSTRAINT city_pkey PRIMARY KEY (id)
);

CREATE TABLE public.theater (
	id int8 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1 NO CYCLE) NOT NULL,
	address varchar(255) NULL,
	code varchar(255) NULL,
	"name" varchar(255) NULL,
	secure_id varchar(255) NULL,
	city_id int8 NULL,
	CONSTRAINT theater_pkey PRIMARY KEY (id),
	CONSTRAINT fkikchmxlrjeeyokbkoaijxgycm FOREIGN KEY (city_id) REFERENCES public.city(id)
);

CREATE TABLE public.studio (
	id int8 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1 NO CYCLE) NOT NULL,
	max_column int4 NULL,
	max_row int4 NULL,
	"number" varchar(255) NULL,
	secure_id varchar(255) NULL,
	theater_id int8 NULL,
	CONSTRAINT studio_pkey PRIMARY KEY (id),
	CONSTRAINT fkjbpjoovf53kk4g2xct2h454dm FOREIGN KEY (theater_id) REFERENCES public.theater(id)
);

CREATE TABLE public."movie" (
	id int8 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1 NO CYCLE) NOT NULL,
	end_date date NULL,
	"name" varchar(255) NULL,
	secure_id varchar(255) NULL,
	start_date date NULL,
	CONSTRAINT move_pkey PRIMARY KEY (id)
);

CREATE TABLE public.studio_session (
	id int8 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1 NO CYCLE) NOT NULL,
	end_time time(6) NULL,
	secure_id varchar(255) NULL,
	start_time time(6) NULL,
	studio_id int8 NULL,
	CONSTRAINT studio_session_pkey PRIMARY KEY (id),
	CONSTRAINT fkl76fwste3hsxpeyjoxm3s4ry FOREIGN KEY (studio_id) REFERENCES public.studio(id)
);

CREATE TABLE public.session_movie (
	id int8 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1 NO CYCLE) NOT NULL,
	secure_id varchar(255) NULL,
	movie_id int8 NULL,
	studio_session_id int8 NULL,
	CONSTRAINT session_movie_pkey PRIMARY KEY (id),
	CONSTRAINT fk8mu01t9qholm20twwjxgnyk8y FOREIGN KEY (studio_session_id) REFERENCES public.studio_session(id),
	CONSTRAINT fkqj3ccpaqxedavty3l2ote2qfu FOREIGN KEY (movie_id) REFERENCES public."move"(id)
);

CREATE TABLE public.account (
	id int8 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1 NO CYCLE) NOT NULL,
	email varchar(255) NULL,
	"name" varchar(255) NULL,
	secure_id varchar(255) NULL,
	CONSTRAINT account_pkey PRIMARY KEY (id)
);

CREATE TABLE public."transaction" (
	id int8 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1 NO CYCLE) NOT NULL,
	chair_number varchar(255) NULL,
	price numeric(38, 2) NULL,
	secure_id varchar(255) NULL,
	status varchar(255) NULL,
	account_id int8 NULL,
	session_movie_id int8 NULL,
	CONSTRAINT transaction_pkey PRIMARY KEY (id),
	CONSTRAINT fk6g20fcr3bhr6bihgy24rq1r1b FOREIGN KEY (account_id) REFERENCES public.account(id),
	CONSTRAINT fktn9wu6ktdahcht0k7hvrnjm7k FOREIGN KEY (session_movie_id) REFERENCES public.session_movie(id)
);